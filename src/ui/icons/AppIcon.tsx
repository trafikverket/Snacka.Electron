import type { ReactNode } from 'react';

type AppIconProps = {
  children?: ReactNode;
  color?: string;
};

const AppIcon = ({ children, color = '#D70000' }: AppIconProps) => (
  <svg width='100%' viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'>
    <g fill= {color} mask= {children ? 'url(#cut)' : undefined}>
        <path
            d='M51.2,240.246C51.2,282.388 66.068,321.378 91.766,353.182C103.778,368.049 105.649,388.726 96.492,405.563L78.769,438.154L136.369,413.44C147.988,408.418 161.182,408.32 172.898,413.145C198.203,423.483 226.265,429.292 255.902,429.292C371.889,429.292 460.702,341.858 460.702,240.246C460.702,138.634 371.988,51.2 256,51.2C140.012,51.2 51.2,138.634 51.2,240.246ZM177.231,240.246C177.231,257.674 163.151,271.754 145.723,271.754C128.295,271.754 114.215,257.674 114.215,240.246C114.215,222.818 128.295,208.738 145.723,208.738C163.151,208.738 177.231,222.818 177.231,240.246ZM287.508,240.246C287.508,257.674 273.428,271.754 256,271.754C238.572,271.754 224.492,257.674 224.492,240.246C224.492,222.818 238.572,208.738 256,208.738C273.428,208.738 287.508,222.818 287.508,240.246ZM397.785,240.246C397.785,257.674 383.705,271.754 366.277,271.754C348.849,271.754 334.769,257.674 334.769,240.246C334.769,222.818 348.849,208.738 366.277,208.738C383.705,208.738 397.785,222.818 397.785,240.246Z'
            fill-opacity='0.4' />
        <path
            d='M3.938,240.246C3.938,293.809 22.942,343.237 55.04,382.917L6.991,470.942C5.022,474.585 3.938,478.72 3.938,482.954C3.938,496.837 15.163,508.062 29.046,508.062C32.985,508.062 36.726,507.471 40.369,505.994L154.978,456.862C185.895,469.563 220.062,476.554 256,476.554C395.225,476.554 508.062,370.708 508.062,240.246C508.062,109.785 395.225,3.938 256,3.938C116.775,3.938 3.938,109.785 3.938,240.246ZM96.492,405.563C105.649,388.726 103.778,368.049 91.766,353.182C66.068,321.378 51.2,282.388 51.2,240.246C51.2,138.634 140.012,51.2 256,51.2C371.988,51.2 460.8,138.634 460.8,240.246C460.8,341.858 371.988,429.292 256,429.292C226.265,429.292 198.203,423.483 172.997,413.145C161.28,408.32 148.086,408.418 136.468,413.44L78.769,438.055L96.492,405.563ZM145.723,271.754C163.151,271.754 177.231,257.674 177.231,240.246C177.231,222.818 163.151,208.738 145.723,208.738C128.295,208.738 114.215,222.818 114.215,240.246C114.215,257.674 128.295,271.754 145.723,271.754ZM287.508,240.246C287.508,222.818 273.428,208.738 256,208.738C238.572,208.738 224.492,222.818 224.492,240.246C224.492,257.674 238.572,271.754 256,271.754C273.428,271.754 287.508,257.674 287.508,240.246ZM366.277,271.754C383.705,271.754 397.785,257.674 397.785,240.246C397.785,222.818 383.705,208.738 366.277,208.738C348.849,208.738 334.769,222.818 334.769,240.246C334.769,257.674 348.849,271.754 366.277,271.754Z' />
    </g>
    {!!children && (
      <>
        <g transform='translate(256 256)'>
          <g transform='translate(128 128)'>
            <g transform='scale(0.4)'>
              <g transform='translate(-256 -256)'>{children}</g>
            </g>
          </g>
        </g>
        <defs>
          <mask id='cut'>
            <rect x='0' y='0' width='512' height='512' fill='white' />
            <g filter='url(#blackout)'>
              <g transform='translate(256 256)'>
                <g transform='translate(128 128)'>
                  <g transform='scale(0.5)'>
                    <g transform='translate(-256 -256)'>{children}</g>
                  </g>
                </g>
              </g>
            </g>
          </mask>
          <filter id='blackout'>
            <feColorMatrix
              type='matrix'
              values='
              0 0 0 0 0
              0 0 0 0 0
              0 0 0 0 0
              0 0 0 1 0
            '
              in='SourceGraphic'
            />
          </filter>
        </defs>
      </>
    )}
  </svg>
);

export default AppIcon;
